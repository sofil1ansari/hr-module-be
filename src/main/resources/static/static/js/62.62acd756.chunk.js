"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[62],{20627:(e,t,n)=>{n.d(t,{Z:()=>m});var s=n(35323),r=n(86495),a=n(26319),o=n(71945);const l=(0,s.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],((e,t)=>new a.Z(e,t).match(o.Z.values.employeeRead))),i=(0,s.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],((e,t)=>new a.Z(e,t).match(o.Z.values.employeeEdit))),c=(0,s.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],((e,t)=>new a.Z(e,t).match(o.Z.values.employeeCreate))),d=(0,s.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],((e,t)=>new a.Z(e,t).match(o.Z.values.employeeImport))),m={selectPermissionToRead:l,selectPermissionToEdit:i,selectPermissionToCreate:c,selectPermissionToDestroy:(0,s.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],((e,t)=>new a.Z(e,t).match(o.Z.values.employeeDestroy))),selectPermissionToImport:d}},35014:(e,t,n)=>{n.d(t,{Z:()=>s});const s={selectLoading:(0,n(35323).P1)([e=>e.timeLog.destroy],(e=>Boolean(e.loading)))}},41103:(e,t,n)=>{n.d(t,{Z:()=>m});var s=n(35323),r=n(86495),a=n(26319),o=n(71945);const l=(0,s.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],((e,t)=>new a.Z(e,t).match(o.Z.values.timeLogRead))),i=(0,s.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],((e,t)=>new a.Z(e,t).match(o.Z.values.timeLogEdit))),c=(0,s.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],((e,t)=>new a.Z(e,t).match(o.Z.values.timeLogCreate))),d=(0,s.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],((e,t)=>new a.Z(e,t).match(o.Z.values.timeLogImport))),m={selectPermissionToRead:l,selectPermissionToEdit:i,selectPermissionToCreate:c,selectPermissionToDestroy:(0,s.P1)([r.Z.selectCurrentTenant,r.Z.selectCurrentUser],((e,t)=>new a.Z(e,t).match(o.Z.values.timeLogDestroy))),selectPermissionToImport:d}},27829:(e,t,n)=>{n.d(t,{Z:()=>a});var s,r=n(30168);const a=n(20346).ZP.div(s||(s=(0,r.Z)(["\n  margin-top: 16px;\n  padding: 24px;\n  background-color: white;\n  width: 100%;\n  border-radius: 5px;\n  border: 1px solid #dee2e6 !important;\n"])))},53852:(e,t,n)=>{n.d(t,{Z:()=>c});var s,r=n(30168),a=n(2135),o=n(20346),l=n(46417);const i=o.ZP.nav(s||(s=(0,r.Z)(["\n  .breadcrumb {\n    font-size: 13px;\n    margin: 0px;\n    padding: 0px;\n    background-color: transparent;\n  }\n\n  .breadcrumb-item:not(.active) a {\n    color: rgba(0, 0, 0, 0.45);\n  }\n"])));const c=function(e){const t=e=>e.length>1;return(0,l.jsx)(i,{children:(0,l.jsx)("ol",{className:"breadcrumb",children:e.items.map(((n,s)=>(0,l.jsx)("li",{className:"breadcrumb-item ".concat(e.items.length-1===s?"active":""),children:t(n)?(0,l.jsx)(a.rU,{to:n[1],children:n[0]}):n[0]},n[0])))})})}},95748:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(46417);const r=e=>e.loading?(0,s.jsx)("span",{className:"spinner-border spinner-border-sm"}):e.iconClass?(0,s.jsx)("i",{className:e.iconClass}):null},61567:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(46417);const r=function(){return(0,s.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,s.jsx)("div",{className:"spinner-border text-primary"})})}},44587:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(64214),r=n(47313),a=n(46417);const o=e=>{const t=(0,r.useRef)(),[n,o]=(0,r.useState)(null);(0,r.useEffect)((()=>{if(t.current){const e=new s.u_(t.current);e.show(),o(e)}}),[]);const l=()=>{if(n){n.hide();new s.u_(t.current).hide(),e.onClose()}};return(0,a.jsx)("div",{ref:t,className:"modal",tabIndex:-1,children:(0,a.jsx)("div",{className:"modal-dialog modal-sm",children:(0,a.jsxs)("div",{className:"modal-content",children:[(0,a.jsxs)("div",{className:"modal-header",children:[(0,a.jsx)("h5",{className:"modal-title",children:e.title}),(0,a.jsx)("button",{type:"button",className:"close",onClick:l,"data-dismiss":"modal",children:(0,a.jsx)("span",{children:"\xd7"})})]}),(0,a.jsxs)("div",{className:"modal-footer",children:[(0,a.jsx)("button",{type:"button",className:"btn btn-light btn-sm","data-dismiss":"modal",onClick:l,children:e.cancelText}),(0,a.jsx)("button",{type:"button",onClick:()=>(window.$(t.current).modal("hide"),e.onConfirm()),className:"btn btn-primary btn-sm",children:e.okText})]})]})})})}},75352:(e,t,n)=>{n.d(t,{Z:()=>a});var s,r=n(30168);const a=n(20346).ZP.h1(s||(s=(0,r.Z)(["\n  margin-bottom: 24px;\n"])))},10419:(e,t,n)=>{n.d(t,{Z:()=>a});var s,r=n(30168);const a=n(20346).ZP.div(s||(s=(0,r.Z)(["\n  margin-bottom: 8px;\n\n  .btn {\n    margin-right: 8px;\n    margin-bottom: 8px;\n  }\n"])))},25969:(e,t,n)=>{n.d(t,{Z:()=>a});var s,r=n(30168);const a=n(20346).ZP.div(s||(s=(0,r.Z)(["\n  .btn.btn-link {\n    padding-left: 0;\n  }\n"])))},31287:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(46417);const r=function(e){if(!e.value&&0!==e.value&&!1!==e.value)return null;const t="".concat(e.prefix?"".concat(e.prefix," "):"").concat(e.value);return(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"col-form-label",children:e.label}),(0,s.jsx)("input",{type:"text",readOnly:!0,className:"form-control-plaintext",value:t})]})}},30062:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var s=n(47313),r=n(85554),a=n(58467),o=n(10499),l=n(79659),i=n(35323);const c=e=>e.timeLog.view,d=(0,i.P1)([c],(e=>e.record)),m={selectLoading:(0,i.P1)([c],(e=>Boolean(e.loading))),selectRecord:d,selectRaw:c};var u=n(27829),Z=n(53852),x=n(75352),g=n(70816),p=n.n(g),b=n(61567),h=n(25969),v=n(31287),j=n(2135),f=n(20627),C=n(46417);const y=e=>{const t=(0,r.v9)(f.Z.selectPermissionToRead),n=()=>{const{value:t}=e;return t?Array.isArray(t)?t:[t]:[]};return n().length?(0,C.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,C.jsx)("label",{className:"col-form-label",children:e.label}),n().map((e=>{return n=e,t?(0,C.jsx)("div",{children:(0,C.jsx)(j.rU,{className:"btn btn-link",to:"/employee/".concat(n.id),children:n.email})},n.id):(0,C.jsx)("div",{children:n.email},n.id);var n}))]}):null},P=e=>{const{record:t,loading:n}=e;return n||!t?(0,C.jsx)(b.Z,{}):(0,C.jsxs)(h.Z,{children:[(0,C.jsx)(y,{label:(0,o.ag)("entities.timeLog.fields.employee"),value:t.employee}),(0,C.jsx)(v.Z,{label:(0,o.ag)("entities.timeLog.fields.email"),value:t.email}),(0,C.jsx)(v.Z,{label:(0,o.ag)("entities.timeLog.fields.start"),value:p()(t.start).format("YYYY-MM-DD HH:mm")}),(0,C.jsx)(v.Z,{label:(0,o.ag)("entities.timeLog.fields.end"),value:p()(t.end).format("YYYY-MM-DD HH:mm")}),(0,C.jsx)(v.Z,{label:(0,o.ag)("entities.timeLog.fields.workItem"),value:t.workItem})]})};var T=n(23516),w=n(68087),N=n(35014),L=n(41103),k=n(95748),U=n(44587),I=n(10419);const R=e=>{const[t,n]=(0,s.useState)(!1),a=(0,r.I0)(),l=e.id,i=(0,r.v9)(T.Z.selectPermissionToRead),c=(0,r.v9)(L.Z.selectPermissionToEdit),d=(0,r.v9)(L.Z.selectPermissionToDestroy),m=(0,r.v9)(N.Z.selectLoading),u=()=>{n(!1)};return(0,C.jsxs)(I.Z,{children:[c&&(0,C.jsx)(j.rU,{to:"/time-log/".concat(l,"/edit"),children:(0,C.jsxs)("button",{className:"btn btn-primary",type:"button",children:[(0,C.jsx)(k.Z,{iconClass:"fas fa-edit"})," ",(0,o.ag)("common.edit")]})}),d&&(0,C.jsxs)("button",{className:"btn btn-primary",type:"button",disabled:m,onClick:()=>{n(!0)},children:[(0,C.jsx)(k.Z,{loading:m,iconClass:"fas fa-trash-alt"})," ",(0,o.ag)("common.destroy")]}),i&&(0,C.jsx)(j.rU,{to:"/audit-logs?entityId=".concat(encodeURIComponent(l)),children:(0,C.jsxs)("button",{className:"btn btn-light",type:"button",children:[(0,C.jsx)(k.Z,{iconClass:"fas fa-history"})," ",(0,o.ag)("auditLog.menu")]})}),t&&(0,C.jsx)(U.Z,{title:(0,o.ag)("common.areYouSure"),onConfirm:()=>(u(),void a(w.Z.doDestroy(l))),onClose:()=>u(),okText:(0,o.ag)("common.yes"),cancelText:(0,o.ag)("common.no")})]})},D=e=>{const t=(0,r.I0)(),{id:n}=(0,a.UO)(),i=(0,r.v9)(m.selectLoading),c=(0,r.v9)(m.selectRecord);return(0,s.useEffect)((()=>{t(l.Z.doFind(n))}),[t,n]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Z.Z,{items:[[(0,o.ag)("dashboard.menu"),"/"],[(0,o.ag)("entities.timeLog.menu"),"/time-log"],[(0,o.ag)("entities.timeLog.view.title")]]}),(0,C.jsxs)(u.Z,{children:[(0,C.jsx)(x.Z,{children:(0,o.ag)("entities.timeLog.view.title")}),(0,C.jsx)(R,{id:n}),(0,C.jsx)(P,{loading:i,record:c})]})]})}}}]);
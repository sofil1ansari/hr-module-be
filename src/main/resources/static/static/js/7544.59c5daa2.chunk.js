"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[7544],{79179:(e,s,t)=>{t.d(s,{Z:()=>n});const n={selectLoading:(0,t(35323).P1)([e=>e.project.destroy],(e=>Boolean(e.loading)))}},19704:(e,s,t)=>{t.d(s,{Z:()=>m});var n=t(35323),o=t(86495),a=t(26319),c=t(71945);const l=(0,n.P1)([o.Z.selectCurrentTenant,o.Z.selectCurrentUser],((e,s)=>new a.Z(e,s).match(c.Z.values.projectRead))),r=(0,n.P1)([o.Z.selectCurrentTenant,o.Z.selectCurrentUser],((e,s)=>new a.Z(e,s).match(c.Z.values.projectEdit))),i=(0,n.P1)([o.Z.selectCurrentTenant,o.Z.selectCurrentUser],((e,s)=>new a.Z(e,s).match(c.Z.values.projectCreate))),d=(0,n.P1)([o.Z.selectCurrentTenant,o.Z.selectCurrentUser],((e,s)=>new a.Z(e,s).match(c.Z.values.projectImport))),m={selectPermissionToRead:l,selectPermissionToEdit:r,selectPermissionToCreate:i,selectPermissionToDestroy:(0,n.P1)([o.Z.selectCurrentTenant,o.Z.selectCurrentUser],((e,s)=>new a.Z(e,s).match(c.Z.values.projectDestroy))),selectPermissionToImport:d}},67544:(e,s,t)=>{t.r(s),t.d(s,{default:()=>_});var n=t(10499),o=t(27829),a=t(62563),c=t(47313),l=t(75627),r=t(85554),i=t(79583),d=t(25598),m=t(40846),h=t(47590),j=t(95748),u=t(13586),x=t(47575),b=t(69138),p=t(21933),Z=t(46417);const g=p.Ry().shape({name:h.Z.string((0,n.ag)("entities.project.fields.name")),description:h.Z.string((0,n.ag)("entities.project.fields.description"))}),v={name:null,description:null},f={name:{label:(0,n.ag)("entities.project.fields.name"),render:m.Z.generic()},description:{label:(0,n.ag)("entities.project.fields.description"),render:m.Z.generic()}},C=e=>{const s=(0,r.I0)(),t=(0,r.v9)(d.Z.selectRawFilter),[o,m]=(0,c.useState)(!1),[h]=(0,c.useState)((()=>({...v,...t}))),p=(0,l.cI)({resolver:(0,a.X)(g),defaultValues:h,mode:"all"});(0,c.useEffect)((()=>{s(i.Z.doFetch(g.cast(h),t))}),[s]);const C=e=>{const t=p.getValues();s(i.Z.doFetch(e,t)),m(!1)};return(0,Z.jsxs)(b.Z,{children:[(0,Z.jsx)(u.Z,{onClick:()=>{m(!o)},renders:f,values:t,expanded:o,onRemove:e=>(p.setValue(e,v[e]),p.handleSubmit(C)())}),(0,Z.jsx)("div",{className:"container",children:(0,Z.jsx)("div",{className:"collapse ".concat(o?"show":""),children:(0,Z.jsx)(l.RV,{...p,children:(0,Z.jsxs)("form",{onSubmit:p.handleSubmit(C),children:[(0,Z.jsxs)("div",{className:"row",children:[(0,Z.jsx)("div",{className:"col-lg-6 col-12",children:(0,Z.jsx)(x.Z,{name:"name",label:(0,n.ag)("entities.project.fields.name")})}),(0,Z.jsx)("div",{className:"col-lg-6 col-12",children:(0,Z.jsx)(x.Z,{name:"description",label:(0,n.ag)("entities.project.fields.description")})})]}),(0,Z.jsx)("div",{className:"row",children:(0,Z.jsxs)("div",{className:"col-12 filter-buttons",children:[(0,Z.jsxs)("button",{className:"btn btn-primary",type:"submit",disabled:e.loading,children:[(0,Z.jsx)(j.Z,{loading:e.loading,iconClass:"fas fa-search"})," ",(0,n.ag)("common.search")]}),(0,Z.jsxs)("button",{className:"btn btn-light",type:"button",onClick:()=>{Object.keys(v).forEach((e=>{p.setValue(e,v[e])})),s(i.Z.doReset()),m(!1)},disabled:e.loading,children:[(0,Z.jsx)(j.Z,{loading:e.loading,iconClass:"fas fa-undo"})," ",(0,n.ag)("common.reset")]})]})})]})})})})]})};var N=t(2135),y=t(3776),k=t(79179),w=t(19704),T=t(44587),S=t(61567),P=t(27216),R=t(97249),U=t(98848);const E=e=>{const[s,t]=(0,c.useState)(null),o=(0,r.I0)(),a=(0,r.v9)(d.Z.selectLoading),l=(0,r.v9)(k.Z.selectLoading),m=a||l,h=(0,r.v9)(d.Z.selectRows),j=(0,r.v9)(d.Z.selectPagination),u=(0,r.v9)(d.Z.selectSelectedKeys),x=(0,r.v9)(d.Z.selectHasRows),b=(0,r.v9)(d.Z.selectSorter),p=(0,r.v9)(d.Z.selectIsAllSelected),g=(0,r.v9)(w.Z.selectPermissionToEdit),v=(0,r.v9)(w.Z.selectPermissionToDestroy),f=()=>{t(null)},C=e=>{const s=b.field===e&&"ascend"===b.order?"descend":"ascend";o(i.Z.doChangeSort({field:e,order:s}))};return(0,Z.jsxs)(P.Z,{children:[(0,Z.jsx)("div",{className:"table-responsive",children:(0,Z.jsxs)("table",{className:"table table-striped mt-2",children:[(0,Z.jsx)("thead",{className:"thead",children:(0,Z.jsxs)("tr",{children:[(0,Z.jsx)(U.Z,{className:"th-checkbox",children:x&&(0,Z.jsxs)("div",{className:"custom-control custom-checkbox",children:[(0,Z.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"table-header-checkbox",checked:Boolean(p),onChange:()=>{o(i.Z.doToggleAllSelected())}}),(0,Z.jsx)("label",{htmlFor:"table-header-checkbox",className:"custom-control-label",children:"\xa0"})]})}),(0,Z.jsx)(U.Z,{onSort:C,hasRows:x,sorter:b,name:"name",label:(0,n.ag)("entities.project.fields.name")}),(0,Z.jsx)(U.Z,{onSort:C,hasRows:x,sorter:b,name:"description",label:(0,n.ag)("entities.project.fields.description")}),(0,Z.jsx)(U.Z,{className:"th-actions"})]})}),(0,Z.jsxs)("tbody",{children:[m&&(0,Z.jsx)("tr",{children:(0,Z.jsx)("td",{colSpan:100,children:(0,Z.jsx)(S.Z,{})})}),!m&&!x&&(0,Z.jsx)("tr",{children:(0,Z.jsx)("td",{colSpan:100,children:(0,Z.jsx)("div",{className:"d-flex justify-content-center",children:(0,n.ag)("table.noData")})})}),!m&&h.map((e=>(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("th",{className:"th-checkbox",scope:"row",children:(0,Z.jsxs)("div",{className:"custom-control custom-checkbox",children:[(0,Z.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"table-header-checkbox-".concat(e.id),checked:u.includes(e.id),onChange:()=>{return s=e.id,void o(i.Z.doToggleOneSelected(s));var s}}),(0,Z.jsx)("label",{htmlFor:"table-header-checkbox-".concat(e.id),className:"custom-control-label",children:"\xa0"})]})}),(0,Z.jsx)("td",{children:e.name}),(0,Z.jsx)("td",{children:e.description}),(0,Z.jsxs)("td",{className:"td-actions",children:[(0,Z.jsx)(N.rU,{className:"btn btn-link",to:"/project/".concat(e.id),children:(0,n.ag)("common.view")}),g&&(0,Z.jsx)(N.rU,{className:"btn btn-link",to:"/project/".concat(e.id,"/edit"),children:(0,n.ag)("common.edit")}),v&&(0,Z.jsx)("button",{className:"btn btn-link",type:"button",onClick:()=>{return s=e.id,void t(s);var s},children:(0,n.ag)("common.destroy")})]})]},e.id)))]})]})}),(0,Z.jsx)(R.Z,{onChange:e=>{o(i.Z.doChangePagination(e))},disabled:m,pagination:j}),s&&(0,Z.jsx)(T.Z,{title:(0,n.ag)("common.areYouSure"),onConfirm:()=>{return e=s,f(),void o(y.Z.doDestroy(e));var e},onClose:()=>f(),okText:(0,n.ag)("common.yes"),cancelText:(0,n.ag)("common.no")})]})};var I=t(33640),D=t(23516),L=t(10419);const F=e=>{const[s,t]=(0,c.useState)(!1),o=(0,r.I0)(),a=(0,r.v9)(d.Z.selectSelectedKeys),l=(0,r.v9)(d.Z.selectLoading),m=(0,r.v9)(k.Z.selectLoading),h=(0,r.v9)(d.Z.selectExportLoading),u=(0,r.v9)(d.Z.selectHasRows),x=(0,r.v9)(D.Z.selectPermissionToRead),b=(0,r.v9)(w.Z.selectPermissionToDestroy),p=(0,r.v9)(w.Z.selectPermissionToCreate),g=(0,r.v9)(w.Z.selectPermissionToImport),v=()=>{t(!0)},f=()=>{t(!1)},C=()=>{o(i.Z.doExport())};return(0,Z.jsxs)(L.Z,{children:[p&&(0,Z.jsx)(N.rU,{to:"/project/new",children:(0,Z.jsxs)("button",{className:"btn btn-primary",type:"button",children:[(0,Z.jsx)(j.Z,{iconClass:"fas fa-plus"})," ",(0,n.ag)("common.new")]})}),g&&(0,Z.jsx)(N.rU,{to:"/project/importer",children:(0,Z.jsxs)("button",{className:"btn btn-primary",type:"button",children:[(0,Z.jsx)(j.Z,{iconClass:"fas fa-upload"})," ",(0,n.ag)("common.import")]})}),(()=>{if(!b)return null;const e=!a.length||l,s=(0,Z.jsxs)("button",{disabled:e,className:"btn btn-primary",type:"button",onClick:v,children:[(0,Z.jsx)(j.Z,{loading:m,iconClass:"far fa-trash-alt"})," ",(0,n.ag)("common.destroy")]});return e?(0,Z.jsxs)("span",{"data-tip":(0,n.ag)("common.mustSelectARow"),"data-tip-disable":!e,"data-for":"project-list-toolbar-destroy-tooltip",children:[s,(0,Z.jsx)(I.u,{id:"project-list-toolbar-destroy-tooltip"})]}):s})(),x&&(0,Z.jsx)(N.rU,{to:"/audit-logs?entityNames=project",children:(0,Z.jsxs)("button",{className:"btn btn-light",type:"button",children:[(0,Z.jsx)(j.Z,{iconClass:"fas fa-history"})," ",(0,n.ag)("auditLog.menu")]})}),(()=>{const e=!u||l,s=(0,Z.jsxs)("button",{className:"btn btn-light",disabled:e,onClick:C,type:"button",children:[(0,Z.jsx)(j.Z,{loading:h,iconClass:"far fa-file-excel"})," ",(0,n.ag)("common.export")]});return e?(0,Z.jsxs)("span",{"data-tip":(0,n.ag)("common.noDataToExport"),"data-tip-disable":!e,"data-for":"project-list-toolbar-export-tooltip",children:[s,(0,Z.jsx)(I.u,{id:"project-list-toolbar-export-tooltip"})]}):s})(),s&&(0,Z.jsx)(T.Z,{title:(0,n.ag)("common.areYouSure"),onConfirm:()=>(f(),void o(y.Z.doDestroyAll(a))),onClose:()=>f(),okText:(0,n.ag)("common.yes"),cancelText:(0,n.ag)("common.no")})]})};var V=t(53852),A=t(75352);const _=e=>(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(V.Z,{items:[[(0,n.ag)("dashboard.menu"),"/"],[(0,n.ag)("entities.project.menu")]]}),(0,Z.jsxs)(o.Z,{children:[(0,Z.jsx)(A.Z,{children:(0,n.ag)("entities.project.list.title")}),(0,Z.jsx)(F,{}),(0,Z.jsx)(C,{}),(0,Z.jsx)(E,{})]})]})},44587:(e,s,t)=>{t.d(s,{Z:()=>c});var n=t(64214),o=t(47313),a=t(46417);const c=e=>{const s=(0,o.useRef)(),[t,c]=(0,o.useState)(null);(0,o.useEffect)((()=>{if(s.current){const e=new n.u_(s.current);e.show(),c(e)}}),[]);const l=()=>{if(t){t.hide();new n.u_(s.current).hide(),e.onClose()}};return(0,a.jsx)("div",{ref:s,className:"modal",tabIndex:-1,children:(0,a.jsx)("div",{className:"modal-dialog modal-sm",children:(0,a.jsxs)("div",{className:"modal-content",children:[(0,a.jsxs)("div",{className:"modal-header",children:[(0,a.jsx)("h5",{className:"modal-title",children:e.title}),(0,a.jsx)("button",{type:"button",className:"close",onClick:l,"data-dismiss":"modal",children:(0,a.jsx)("span",{children:"\xd7"})})]}),(0,a.jsxs)("div",{className:"modal-footer",children:[(0,a.jsx)("button",{type:"button",className:"btn btn-light btn-sm","data-dismiss":"modal",onClick:l,children:e.cancelText}),(0,a.jsx)("button",{type:"button",onClick:()=>(window.$(s.current).modal("hide"),e.onConfirm()),className:"btn btn-primary btn-sm",children:e.okText})]})]})})})}}}]);
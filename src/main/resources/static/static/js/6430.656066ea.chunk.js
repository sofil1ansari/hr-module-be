/*! For license information please see 6430.656066ea.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[6430],{89994:(n,e,t)=>{t.d(e,{Z:()=>l});var a=t(70816),r=t.n(a),i=t(10499),o=t(21933);const l={generic:n=>o.nK().label(n),string(n,e){e=e||{};let t=o.Z_().transform(((n,e)=>""===e?null:n)).nullable().trim().label(n);return e.required&&(t=t.required()),(e.min||0===e.min)&&(t=t.min(e.min)),e.max&&(t=t.max(e.max)),e.matches&&(t=t.matches(e.matches)),t},boolean:(n,e)=>o.Xg().default(!1).label(n),relationToOne(n,e){e=e||{};let t=o.nK().nullable().label(n).transform(((n,e)=>e?e.id:null));return e.required&&(t=t.required()),t},stringArray(n,e){e=e||{};let t=o.IX().compact().ensure().of(o.Z_().transform(((n,e)=>""===e?null:n)).trim()).label(n);return(e.required||e.min)&&(t=t.required()),e.min||0===e.min?t=t.min(e.min):e.required&&(t=t.min(1)),e.max&&(t=t.max(e.max)),t},relationToMany(n,e){e=e||{};let t=o.IX().nullable().label(n).transform(((n,e)=>e&&e.length?e.map((n=>n.id)):[]));return(e.required||e.min)&&(t=t.required()),e.min||0===e.min?t=t.min(e.min):e.required&&(t=t.min(1)),e.max&&(t=t.max(e.max)),t},integer(n,e){e=e||{};let t=o.Rx().transform(((n,e)=>""===e?null:n)).integer().nullable().label(n);return e.required&&(t=t.required()),(e.min||0===e.min)&&(t=t.min(e.min)),e.max&&(t=t.max(e.max)),t},images(n,e){e=e||{};let t=o.IX().nullable().label(n);return(e.required||e.min)&&(t=t.required()),e.min||0===e.min?t=t.min(e.min):e.required&&(t=t.min(1)),e.max&&(t=t.max(e.max)),t},files(n,e){e=e||{};let t=o.IX().compact().ensure().nullable().label(n);return(e.required||e.min)&&(t=t.required()),e.min||0===e.min?t=t.min(e.min):e.required&&(t=t.min(1)),e.max&&(t=t.max(e.max)),t},enumerator(n,e){e=e||{};let t=o.Z_().transform(((n,e)=>""===e?null:n)).label(n).nullable().oneOf([null,...e.options||[]]);return e.required&&(t=t.required((0,i.ag)("validation.string.selected"))),t},email(n,e){e=e||{};let t=o.Z_().transform(((n,e)=>""===e?null:n)).nullable().trim().label(n).email();return e.required&&(t=t.required()),(e.min||0===e.min)&&(t=t.min(e.min)),e.max&&(t=t.max(e.max)),e.matches&&(t=t.matches(e.matches)),t},decimal(n,e){e=e||{};let t=o.Rx().transform(((n,e)=>""===e?null:n)).nullable().label(n);return e.required&&(t=t.required()),(e.min||0===e.min)&&(t=t.min(e.min)),e.max&&(t=t.max(e.max)),t},datetime(n,e){e=e||{};let t=o.nK().nullable().label(n).transform(((n,e)=>n?r()(e,"YYYY-MM-DD HH:mm").toISOString():null));return e.required&&(t=t.required()),t},date(n,e){e=e||{};let t=o.nK().nullable().label(n).test("is-date",(0,i.ag)("validation.mixed.default"),(n=>!n||r()(n,"YYYY-MM-DD").isValid())).transform((n=>n?r()(n).format("YYYY-MM-DD"):null));return e.required&&(t=t.required()),t}}},27829:(n,e,t)=>{t.d(e,{Z:()=>i});var a,r=t(30168);const i=t(20346).ZP.div(a||(a=(0,r.Z)(["\n  margin-top: 16px;\n  padding: 24px;\n  background-color: white;\n  width: 100%;\n  border-radius: 5px;\n  border: 1px solid #dee2e6 !important;\n"])))},53852:(n,e,t)=>{t.d(e,{Z:()=>d});var a,r=t(30168),i=t(2135),o=t(20346),l=t(46417);const s=o.ZP.nav(a||(a=(0,r.Z)(["\n  .breadcrumb {\n    font-size: 13px;\n    margin: 0px;\n    padding: 0px;\n    background-color: transparent;\n  }\n\n  .breadcrumb-item:not(.active) a {\n    color: rgba(0, 0, 0, 0.45);\n  }\n"])));const d=function(n){const e=n=>n.length>1;return(0,l.jsx)(s,{children:(0,l.jsx)("ol",{className:"breadcrumb",children:n.items.map(((t,a)=>(0,l.jsx)("li",{className:"breadcrumb-item ".concat(n.items.length-1===a?"active":""),children:e(t)?(0,l.jsx)(i.rU,{to:t[1],children:t[0]}):t[0]},t[0])))})})}},95748:(n,e,t)=>{t.d(e,{Z:()=>r});var a=t(46417);const r=n=>n.loading?(0,a.jsx)("span",{className:"spinner-border spinner-border-sm"}):n.iconClass?(0,a.jsx)("i",{className:n.iconClass}):null},49384:(n,e,t)=>{t.d(e,{Z:()=>a});class a{static errorMessage(n,e,t,a){var r;let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(i)return i;if(!a&&!t[n])return null;const o=e[n];return(null===o||void 0===o||null===(r=o[0])||void 0===r?void 0:r.message)||(null===o||void 0===o?void 0:o.message)||o||null}}},85543:(n,e,t)=>{t.d(e,{Z:()=>d});var a=t(47313),r=t(75627),i=t(49384),o=t(61840),l=t(46417);function s(n){const{label:e,name:t,hint:s,storage:d,max:c,required:m,externalErrorMessage:u}=n,{formState:{touchedFields:b,errors:p,isSubmitted:g},setValue:f,watch:h,register:x}=(0,r.Gc)();(0,a.useEffect)((()=>{x(t)}),[x,t]);const y=i.Z.errorMessage(t,p,b,g,u);return(0,l.jsxs)("div",{className:"form-group",children:[Boolean(e)&&(0,l.jsx)("label",{className:"col-form-label ".concat(m?"required":null),htmlFor:t,children:e}),(0,l.jsx)("br",{}),(0,l.jsx)(o.Z,{storage:d,value:h(t),onChange:e=>{f(t,e,{shouldValidate:!0,shouldDirty:!0}),n.onChange&&n.onChange(e)},max:c}),(0,l.jsx)("div",{className:"invalid-feedback",children:y}),Boolean(s)&&(0,l.jsx)("small",{className:"form-text text-muted",children:s})]})}s.defaultProps={max:void 0,required:!1};const d=s},68160:(n,e,t)=>{t.d(e,{Z:()=>i});var a,r=t(30168);const i=t(20346).ZP.div(a||(a=(0,r.Z)(["\n  padding-top: 0;\n  padding-bottom: 0;\n\n  label.required::before {\n    display: inline-block;\n    margin-right: 4px;\n    content: '*';\n    line-height: 1;\n    font-size: 13px;\n    color: #f5222d;\n  }\n\n  .react-datepicker-wrapper {\n    width: 100%;\n  }\n\n  .custom-control {\n    z-index: 0;\n  }\n\n  .invalid-feedback {\n    display: block;\n  }\n\n  .form-buttons {\n    padding-top: 16px;\n\n    .btn {\n      margin-right: 8px;\n      margin-bottom: 8px;\n    }\n  }\n"])))},75352:(n,e,t)=>{t.d(e,{Z:()=>i});var a,r=t(30168);const i=t(20346).ZP.h1(a||(a=(0,r.Z)(["\n  margin-bottom: 24px;\n"])))},61840:(n,e,t)=>{t.d(e,{Z:()=>J});var a=t(47313),r=t(10499),i=t(33512),o=t(56573);const l="array",s="bit",d="bits",c="byte",m="bytes",u="",b="exponent",p="function",g="iec",f="Invalid number",h="Invalid rounding method",x="jedec",y="object",v=".",w="round",j="s",Z="kbit",q="kB",k=" ",C="string",B="0",M={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function N(n){let{bits:e=!1,pad:t=!1,base:a=-1,round:r=2,locale:i=u,localeOptions:o={},separator:N=u,spacer:S=k,symbols:I={},standard:U=u,output:z=C,fullform:Y=!1,fullforms:E=[],exponent:T=-1,roundingMethod:P=w,precision:D=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},F=T,K=Number(n),R=[],V=0,A=u;-1===a&&0===U.length?(a=10,U=x):-1===a&&U.length>0?(U=U===g?g:x,a=U===g?2:10):(a=2===a?2:10,U=10===a||U===x?x:g);const _=10===a?1e3:1024,G=!0===Y,O=K<0,X=Math[P];if("bigint"!==typeof n&&isNaN(n))throw new TypeError(f);if(typeof X!==p)throw new TypeError(h);if(O&&(K=-K),(-1===F||isNaN(F))&&(F=Math.floor(Math.log(K)/Math.log(_)),F<0&&(F=0)),F>8&&(D>0&&(D+=8-F),F=8),z===b)return F;if(0===K)R[0]=0,A=R[1]=M.symbol[U][e?d:m][F];else{V=K/(2===a?Math.pow(2,10*F):Math.pow(1e3,F)),e&&(V*=8,V>=_&&F<8&&(V/=_,F++));const n=Math.pow(10,F>0?r:0);R[0]=X(V*n)/n,R[0]===_&&F<8&&-1===T&&(R[0]=1,F++),A=R[1]=10===a&&1===F?e?Z:q:M.symbol[U][e?d:m][F]}if(O&&(R[0]=-R[0]),D>0&&(R[0]=R[0].toPrecision(D)),R[1]=I[R[1]]||R[1],!0===i?R[0]=R[0].toLocaleString():i.length>0?R[0]=R[0].toLocaleString(i,o):N.length>0&&(R[0]=R[0].toString().replace(v,N)),t&&!1===Number.isInteger(R[0])&&r>0){const n=N||v,e=R[0].toString().split(n),t=e[1]||u,a=t.length,i=r-a;R[0]="".concat(e[0]).concat(n).concat(t.padEnd(a+i,B))}return G&&(R[1]=E[F]?E[F]:M.fullform[U][F]+(e?s:c)+(1===R[0]?u:j)),z===l?R:z===y?{value:R[0],symbol:R[1],exponent:F,unit:A}:R.join(S)}var S,I=t(81384),U=t(63922),z=new Uint8Array(16);function Y(){if(!S&&!(S="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return S(z)}const E=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const T=function(n){return"string"===typeof n&&E.test(n)};for(var P=[],D=0;D<256;++D)P.push((D+256).toString(16).substr(1));const F=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(P[n[e+0]]+P[n[e+1]]+P[n[e+2]]+P[n[e+3]]+"-"+P[n[e+4]]+P[n[e+5]]+"-"+P[n[e+6]]+P[n[e+7]]+"-"+P[n[e+8]]+P[n[e+9]]+"-"+P[n[e+10]]+P[n[e+11]]+P[n[e+12]]+P[n[e+13]]+P[n[e+14]]+P[n[e+15]]).toLowerCase();if(!T(t))throw TypeError("Stringified UUID is invalid");return t};const K=function(n,e,t){var a=(n=n||{}).random||(n.rng||Y)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=a[r];return e}return F(a)};class R{static validate(n,e){if(!e)return;if(e.image&&!n.type.startsWith("image"))throw new Error((0,r.ag)("fileUploader.image"));if(e.storage.maxSizeInBytes&&n.size>e.storage.maxSizeInBytes)throw new Error((0,r.ag)("fileUploader.size",N(e.storage.maxSizeInBytes)));const t=V(n.name);if(e.formats&&!e.formats.includes(t))throw new Error((0,r.ag)("fileUploader.formats",e.formats.join(", ")))}static async upload(n,e){try{this.validate(n,e)}catch(s){return Promise.reject(s)}const t=V(n.name),a=K(),r="".concat(a,".").concat(t),{uploadCredentials:i,downloadUrl:o,privateUrl:l}=await this.fetchFileCredentials(r,e);return await this.uploadToServer(n,i),{id:a,name:n.name,sizeInBytes:n.size,publicUrl:i&&i.publicUrl?i.publicUrl:null,privateUrl:l,downloadUrl:o,new:!0}}static async fetchFileCredentials(n,e){const t=I.Z.get(),{data:a}=await U.Z.get("/tenant/".concat(t,"/file/credentials"),{params:{filename:n,storageId:e.storage.id}});return a}static async uploadToServer(n,e){try{const t=e.url,a=new FormData;for(const[n,r]of Object.entries(e.fields||{}))a.append(n,r);return a.append("file",n),o.Z.post(t,a,{headers:{"Content-Type":"multipart/form-data"}})}catch(t){throw console.error(t),t}}}function V(n){if(!n)return null;const e=/(?:\.([^.]+))?$/.exec(n);return e?e[1]:null}var A,_=t(95748),G=t(30168),O=t(20346),X=t(46417);const L=O.ZP.div(A||(A=(0,G.Z)(["\n  /* The Modal (background) */\n  .modal {\n    display: block;\n    position: fixed; /* Stay in place */\n    z-index: 9999; /* Sit on top */\n    padding-top: 100px; /* Location of the box */\n    left: 0;\n    top: 0;\n    width: 100%; /* Full width */\n    height: 100%; /* Full height */\n    overflow: auto; /* Enable scroll if needed */\n    background-color: rgb(0, 0, 0); /* Fallback color */\n    background-color: rgba(\n      0,\n      0,\n      0,\n      0.9\n    ); /* Black w/ opacity */\n  }\n\n  /* Modal Content (Image) */\n  .modal-content {\n    margin: auto;\n    display: block;\n    width: 80%;\n    max-width: 700px;\n  }\n\n  /* Caption of Modal Image (Image Text) - Same Width as the Image */\n  #caption {\n    margin: auto;\n    display: block;\n    width: 80%;\n    max-width: 700px;\n    text-align: center;\n    color: #ccc;\n    padding: 10px 0;\n    height: 150px;\n  }\n\n  /* Add Animation - Zoom in the Modal */\n  .modal-content,\n  #caption {\n    animation-name: zoom;\n    animation-duration: 0.6s;\n  }\n\n  @keyframes zoom {\n    from {\n      transform: scale(0);\n    }\n    to {\n      transform: scale(1);\n    }\n  }\n\n  /* The Close Button */\n  .close {\n    position: absolute;\n    top: 15px;\n    right: 35px;\n    color: #f1f1f1;\n    font-size: 40px;\n    font-weight: bold;\n    transition: 0.3s;\n  }\n\n  .close:hover,\n  .close:focus {\n    color: #bbb;\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  /* 100% Image Width on Smaller Screens */\n  @media only screen and (max-width: 700px) {\n    .modal-content {\n      width: 100%;\n    }\n  }\n"])));const W=function(n){return(0,X.jsx)(L,{children:(0,X.jsxs)("div",{className:"modal",children:[(0,X.jsx)("span",{className:"close",onClick:n.onClose,children:"\xd7"}),(0,X.jsx)("img",{className:"modal-content",src:n.src,alt:n.alt})]})})};var H;const $=O.ZP.div(H||(H=(0,G.Z)(["\n  .img-card:hover .img-buttons {\n    display: block;\n  }\n\n  .img-buttons {\n    display: none;\n    position: relative;\n    bottom: 2.1rem;\n    width: calc(100px);\n    text-align: center;\n    background-color: rgba(0, 0, 0, 0.5);\n  }\n\n  .img-buttons * {\n    color: white;\n  }\n"])));const J=function(n){const[e,t]=(0,a.useState)(!1),[o,l]=(0,a.useState)(null),s=(0,a.useRef)(),d=()=>{const{value:e}=n;return e?Array.isArray(e)?e:[e]:[]},{max:c,readonly:m}=n,u=(0,X.jsxs)("label",{className:"btn btn-outline-secondary px-4 mb-2",style:{cursor:"pointer"},children:[(0,X.jsx)(_.Z,{loading:e,iconClass:"fas fa-plus"})," ",(0,r.ag)("fileUploader.upload"),(0,X.jsx)("input",{style:{display:"none"},disabled:e||m,accept:"image/*",type:"file",onChange:async e=>{try{const a=e.target.files;if(!a||!a.length)return;let r=a[0];R.validate(r,{storage:n.storage,image:!0}),t(!0),r=await R.upload(r,{storage:n.storage,image:!0}),s.current.value="",t(!1),n.onChange([...d(),r])}catch(a){s.current.value="",console.error(a),t(!1),i.Z.showMessage(a)}},ref:s})]});return(0,X.jsxs)($,{children:[m||c&&d().map((n=>({uid:n.id||void 0,name:n.name,status:"done",url:n.downloadUrl}))).length>=c?null:u,d()&&d().length?(0,X.jsx)("div",{className:"d-flex flex-row flex-wrap",children:d().map((e=>(0,X.jsxs)("div",{className:"mr-2 mb-2 img-card",style:{height:"100px"},children:[(0,X.jsx)("img",{alt:e.name,src:e.downloadUrl,className:"img-thumbnail",style:{width:"100px",height:"100px",objectFit:"cover"}}),(0,X.jsxs)("div",{className:"img-buttons rounded-bottom",children:[(0,X.jsx)("button",{type:"button",className:"btn btn-link",onClick:()=>(n=>{l({src:n.downloadUrl,alt:n.name})})(e),children:(0,X.jsx)("i",{className:"fas fa-search"})}),!m&&(0,X.jsx)("button",{type:"button",className:"btn btn-link ml-2",onClick:()=>{return t=e.id,void n.onChange(d().filter((n=>n.id!==t)));var t},children:(0,X.jsx)("i",{className:"fas fa-times"})})]})]},e.id)))}):null,o&&(0,X.jsx)(W,{src:o.src,alt:o.alt,onClose:()=>{l(null)}})]})}}}]);